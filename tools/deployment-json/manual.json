{
  "functionApp": {
    "name": "object-detection",
    "runtime": "python",
    "components": [
      { "name": "resize", "memory": 97, "runtime": 12, "files": [] },
      { "name": "grayscale", "memory": 86, "runtime": 2, "files": [] },
      {
        "name": "objectdetect",
        "memory": 153,
        "runtime": 256,
        "files": [
          "MobileNetSSD_deploy.caffemodel",
          "MobileNetSSD_deploy.prototxt.txt"
        ]
      },
      { "name": "cut", "memory": 80, "runtime": 12, "files": [] },
      {
        "name": "objectdetect2",
        "memory": 325,
        "runtime": 1016,
        "files": [
          "MobileNetSSD_deploy.caffemodel",
          "MobileNetSSD_deploy.prototxt.txt"
        ]
      },
      { "name": "tag", "memory": 120, "runtime": 24, "files": [] }
    ],
    "links": [
      {
        "from": "resize",
        "to": "grayscale",
        "invocationRate": {
          "min": 1.0,
          "max": 2.0
        },
        "dataDelay": 10
      },
      {
        "from": "grayscale",
        "to": "objectdetect",
        "invocationRate": {
          "min": 1.0,
          "max": 2.0
        },
        "dataDelay": 10
      },
      {
        "from": "objectdetect",
        "to": "cut",
        "invocationRate": {
          "min": 1.0,
          "max": 2.0
        },
        "dataDelay": 10
      },
      {
        "from": "cut",
        "to": "objectdetect2",
        "invocationRate": {
          "min": 2.0,
          "max": 6.0
        },
        "dataDelay": 10
      },
      {
        "from": "objectdetect2",
        "to": "tag",
        "invocationRate": {
          "min": 2.0,
          "max": 6.0
        },
        "dataDelay": 10
      }
    ],
    "latencyLimit": 1800,
    "platformManaged": true
  },
  "functionCompositions": [
    {
      "id": "composition-1",
      "components": ["resize"]
    },
    {
      "id": "composition-2",
      "components": ["grayscale", "cut"]
    },
    {
      "id": "composition-3",
      "components": ["objectdetect", "objectdetect2"]
    },
    {
      "id": "composition-4",
      "components": ["objectdetect2", "tag"]
    }
  ],
  "deployments": [
    {
      "id": "deployment-1",
      "functionCompositionId": "composition-1",
      "node": "knative",
      "namespace": "application",
      "routingTable": {
        "resize": [{ "to": "grayscale", "function": "deployment-2" }]
      }
    },
    {
      "id": "deployment-2",
      "functionCompositionId": "composition-2",
      "node": "knative-m02",
      "namespace": "application",
      "routingTable": {
        "grayscale": [{ "to": "objectdetect", "function": "deployment-3" }],
        "cut": [{ "to": "objectdetect2", "function": "deployment-3" }]
      }
    },
    {
      "id": "deployment-3",
      "functionCompositionId": "composition-3",
      "node": "knative-m02",
      "namespace": "application",
      "routingTable": {
        "objectdetect": [{ "to": "cut", "function": "deployment-2" }],
        "objectdetect2": [{ "to": "tag", "function": "deployment-4" }]
      }
    },
    {
      "id": "deployment-4",
      "functionCompositionId": "composition-4",
      "node": "knative-m03",
      "namespace": "application",
      "routingTable": {
        "objectdetect2": [{ "to": "tag", "function": "local" }],
        "tag": []
      }
    }
  ]
}
